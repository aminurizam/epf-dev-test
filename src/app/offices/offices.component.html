<div class="flex justify-between flex-col sm:flex-row mb-4">
  <div>
    <h1 class="text-2xl font-bold text-blue-900">Locator</h1>
    <h3 class="text-xl font-bold text-gray-500">List of Offices</h3>
  </div>
  <div class="flex flex-col relative">
    <div class="flex">
      <input
        type="text"
        placeholder="Search"
        class="border py-2 rounded p-2.5 border-gray-500 mr-4 self-center w-full"
        (keyup)="search($event)"
      />
      <span class="flex items-center cursor-pointer">
        <svg (click)="showFilter = !showFilter"
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
          />
        </svg>
      </span>
    </div>
    <div *ngIf="showFilter" class="absolute top-12 bg-white w-full border rounded px-4 py-2">
      <span class="flex justify-end">
        <svg (click)="showFilter = false" class="cursor-pointer" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </span>
      <div *ngFor="let state of states">
        <input class="mr-2" type="checkbox" value="{{ state }}" (change)="filterByState($event)">
        <label for="" class="capitalize">{{ state }}</label>
      </div>
    </div>
  </div>
</div>

<div class="overflow-hidden overflow-x-auto table-responsive">
  <p class="sm:hidden text-sm text-gray-700 font-semibold">Note: Table can scroll to the right</p>
  <table class="table w-full table-auto border">
    <thead class="bg-blue-800 text-white">
      <tr>
        <th>No.</th>
        <th>
          State
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fas"
            data-icon="sort"
            class="svg-inline--fa fa-sort w-3 h-auto"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 320 512"
          >
            <path
              fill="currentColor"
              d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"
            ></path>
          </svg>
        </th>
        <th (click)="sortBy('nam')">
          Name
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fas"
            data-icon="sort"
            class="svg-inline--fa fa-sort w-3 h-auto"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 320 512"
          >
            <path
              fill="currentColor"
              d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"
            ></path>
          </svg>
        </th>
        <th>
          Address
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fas"
            data-icon="sort"
            class="svg-inline--fa fa-sort w-3 h-auto"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 320 512"
          >
            <path
              fill="currentColor"
              d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"
            ></path>
          </svg>
        </th>
        <th>
          Distance (KM)
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fas"
            data-icon="sort"
            class="svg-inline--fa fa-sort w-3 h-auto"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 320 512"
          >
            <path
              fill="currentColor"
              d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"
            ></path>
          </svg>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let office of offices; let i = index">
        <td>{{ i+1 }}</td>
        <td>{{ office.ste }}</td>
        <td>
          <a
            class="text-blue-600 hover:text-blue-800 underline"
            [title]="office.nam"
            [routerLink]="['/office', office.key]"
          >
            KWSP {{ office.nam }}
          </a>
        </td>
        <td>{{ office.ads }}</td>
        <td>TODO</td>
      </tr>
    </tbody>
  </table>
</div>
